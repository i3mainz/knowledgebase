<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>knowledgebase data entry</title>
		<script src="config.js" type="text/javascript"></script><!-- Config -->
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<link rel="stylesheet" href="style.css">
			<script>
				$(document).ready(function () {
					var identifier = window.location.hash.replace(/#/g, "");
					if (identifier) {
						var getProjectData = function (id) {
							$.ajax({
								beforeSend: function (req) {
									req.setRequestHeader("Content-Type", "application/x-www-form-urlencoded ; charset=UTF-8");
								},
								url: Config.MODIFY,
								type: "GET",
								data: {mode: "data", project: id},
								error: function (jqXHR, textStatus, errorThrown) {
									console.error(errorThrown);
								},
								success: function (response) {
									console.log(response);
									$("#info_div").hide();
									$("#header").html("knowledgebase | Projektseite | as&nbsp;&nbsp;&nbsp;<a id='rdflink' target='_blank' title='rdf/xml'>RDF/XML</a>&nbsp;&nbsp;&nbsp;<a id='ttllink' target='_blank' title='ttl'>Turtle</a>&nbsp;&nbsp;&nbsp;<a id='n3link' target='_blank' title='n3'>N3</a>&nbsp;&nbsp;&nbsp;<a id='jsonldlink' target='_blank' title='jsonld'>JSON-LD</a>");
									var tmp = "";
									$("#projektname").append(response[0].projektname);
									$("#akronym").append(response[0].akronym);
									$("#projektbeschreibung").append(response[0].projektbeschreibung);
									$("#projektwebsite").append("<a href='" + response[0].projektwebsite + "' target='_blank'>" + response[0].projektwebsite + "</a>");
									tmp = "";
									for (element in response[0].projektleitung) {
										tmp += response[0].projektleitung[element] + ", ";
									}
									$("#projektleitung").append(tmp.substr(0, tmp.length - 2));
									$("#institut").append(response[0].institut);
									tmp = "";
									for (element in response[0].projektpartner) {
										tmp += response[0].projektpartner[element] + ", ";
									}
									$("#projektpartner").append(tmp.substr(0, tmp.length - 2));
									tmp = "";
									for (element in response[0].mitwirkende) {
										tmp += response[0].mitwirkende[element] + ", ";
									}
									$("#mitwirkende").append(tmp.substr(0, tmp.length - 2));
									tmp = "";
									for (element in response[0].foerderer) {
										tmp += response[0].foerderer[element] + ", ";
									}
									$("#foerderer").append(tmp.substr(0, tmp.length - 2));
									$("#foerdersumme").append(response[0].foerdersumme + "€");
									$("#beginn").append(response[0].beginn);
									$("#ende").append(response[0].ende);
									$("#epoche").append(response[0].epoche);
									$("#disziplin").append(response[0].disziplin);
									$("#geografischerraum").append(response[0].geografischerraum);
									$("#lat").append(response[0].lat);
									$("#lon").append(response[0].lon);
									$("#datentyp").append(response[0].datentyp);
									$("#lizenz").append(response[0].lizenz);
									// set Link
									$("#rdflink").attr("href", Config.RDF + "?id=" + identifier + "&format=" + $("#rdflink").attr("title"));
									$("#ttllink").attr("href", Config.RDF + "?id=" + identifier + "&format=" + $("#ttllink").attr("title"));
									$("#n3link").attr("href", Config.RDF + "?id=" + identifier + "&format=" + $("#n3link").attr("title"));
									$("#jsonldlink").attr("href", Config.RDF + "?id=" + identifier + "&format=" + $("#jsonldlink").attr("title"));
								}
							});
						}
						getProjectData(identifier);
					} else {
						window.open("intro.htm",'_self');
					}
				});
			</script>
	</head>

	<body>
		<h1 class="floatleft left top" id="header"></h1>
		<div class="newline floatleft left top linebottom">
			<b>projektname: </b>
			<div id="projektname" class="floatleft fixedwidth" >
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>akronym: </b>
			<div id="akronym" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>projektbeschreibung: </b>
			<div id="projektbeschreibung" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>projektwebsite: </b>
			<div id="projektwebsite" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>projektleitung: </b>
			<div id="projektleitung" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>institut: </b>
			<div id="institut" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>projektpartner: </b>
			<div id="projektpartner" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>mitwirkende: </b>
			<div id="mitwirkende" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>förderer: </b>
			<div id="foerderer" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>fördersumme: </b>
			<div id="foerdersumme" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>beginn: </b>
			<div id="beginn" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>ende: </b>
			<div id="ende" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>epoche: </b>
			<div id="epoche" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>disziplin: </b>
			<div id="disziplin" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>geographischer raum: </b>
			<div id="geografischerraum" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>lat: </b>
			<div id="lat" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>lon: </b>
			<div id="lon" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom">
			<b>datentyp: </b>
			<div id="datentyp" class="floatleft fixedwidth">
			</div>
		</div>
		<div class="newline floatleft left top linebottom bottom">
			<b>lizenz: </b>
			<div id="lizenz" class="floatleft fixedwidth">
			</div>
		</div>
		</div>
	</body>

</html>
